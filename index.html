<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>جدول بطولة رجب - المتوازي</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@0.344.0/dist/umd/lucide.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { cairo: ['Cairo', 'sans-serif'] },
            colors: {
              navy: { 800: '#0f172a', 900: '#051024' },
              gold: { 400: '#FFD700', 500: '#E6C200', 100: '#FFF9C4' },
            }
          }
        }
      }
    </script>
    <style>
      body { font-family: 'Cairo', sans-serif; background-color: #f3f4f6; }
      .scrollbar-hide::-webkit-scrollbar { display: none; }
      .fade-in { animation: fadeIn 0.3s ease-in-out; }
      @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
  </head>
  <body class="bg-gray-100 min-h-screen pb-20 text-gray-800">
    <header class="bg-navy-900 text-white sticky top-0 z-50 shadow-xl border-b border-navy-800">
      <div class="max-w-md mx-auto px-4 py-4 flex items-center justify-between">
         <div class="flex items-center gap-3">
           <div class="w-10 h-10 bg-gradient-to-br from-gold-400 to-yellow-600 rounded-lg flex items-center justify-center shadow-lg transform rotate-3 ring-2 ring-navy-800">
              <i data-lucide="trophy" class="text-navy-900 w-5 h-5"></i>
           </div>
           <div>
             <h1 class="font-bold text-lg leading-tight text-white">بطولة رجب</h1>
             <p class="text-xs text-gray-400">الرمضانية الثانية</p>
           </div>
         </div>
      </div>
      <div class="max-w-md mx-auto px-2 mt-2 pb-2">
        <div class="flex bg-navy-800/50 p-1 rounded-xl border border-navy-700/50" id="nav-tabs"></div>
      </div>
    </header>

    <main id="app-content" class="max-w-md mx-auto px-4 py-6 space-y-4">
       <div class="text-center py-10 text-gray-500">جاري تحميل الجدول...</div>
    </main>

    <script>
      // ==========================================
      // DATA CONFIGURATION
      // ==========================================
      const TEAMS = [
        // Group A
        { id: 't1', name: 'المزرعة', group: 'A', logoColor: 'bg-blue-600' },
        { id: 't2', name: 'الجامعة', group: 'A', logoColor: 'bg-red-600' },
        { id: 't3', name: 'جرين بلازا إن', group: 'A', logoColor: 'bg-green-500' },
        { id: 't4', name: 'رجب موتورز', group: 'A', logoColor: 'bg-gray-800' },
        // Group B
        { id: 't5', name: 'جرين بلازا 1', group: 'B', logoColor: 'bg-green-700' },
        { id: 't6', name: 'بيرميديون', group: 'B', logoColor: 'bg-yellow-600' },
        { id: 't7', name: 'هيلتون كينج رانش', group: 'B', logoColor: 'bg-indigo-600' },
        { id: 't8', name: 'السينما', group: 'B', logoColor: 'bg-red-500' },
        // Group C
        { id: 't9', name: 'الملاعب', group: 'C', logoColor: 'bg-blue-800' },
        { id: 't10', name: 'جرين بلازا 2', group: 'C', logoColor: 'bg-green-400' },
        { id: 't11', name: 'المعهد', group: 'C', logoColor: 'bg-black' },
        { id: 't12', name: 'الملاهي', group: 'C', logoColor: 'bg-pink-600' },
        // Group D
        { id: 't13', name: 'هيلتون', group: 'D', logoColor: 'bg-cyan-700' },
        { id: 't14', name: 'فيوتشر ستارز', group: 'D', logoColor: 'bg-orange-500' },
        { id: 't15', name: 'جراند بلازا', group: 'D', logoColor: 'bg-teal-600' },
        { id: 't16', name: 'المينا الجاف', group: 'D', logoColor: 'bg-purple-700' },
      ];

      /* 
         الاستراتيجية المتبعة للتوازي (Balanced Schedule):
         مدة الحجز 3 ساعات = 180 دقيقة.
         كل فريق يلعب مباراتين في اليوم.
         
         نظام التبادل (Interleaving):
         - الفترة 1 (أول 40 دقيقة): مباريات المجموعة A و B.
         - الفترة 2 (ثاني 40 دقيقة): مباريات المجموعة C و D.
         - الفترة 3 (ثالث 40 دقيقة): عودة للمجموعة A و B (الجولة التالية).
         - الفترة 4 (رابع 40 دقيقة): عودة للمجموعة C و D (الجولة التالية).
         
         النتيجة: كل الفرق تنهي اليوم وقد لعبت نفس عدد الدقائق والمباريات.
      */

      const MATCHES = [
        // ========================================================
        // اليوم الأول: 2 مارس (يبدأ 21:00) - الجولة 1 و 2
        // ========================================================
        
        // --- الفترة الأولى (A & B - الجولة 1) ---
        { id: 'd1_1', homeTeamId: 't1', awayTeamId: 't2', homeScore: null, awayScore: null, date: '2 مارس', time: '21:00', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'A', round: 'ج1 - ذهاب', details: { scorers: [] } },
        { id: 'd1_2', homeTeamId: 't5', awayTeamId: 't6', homeScore: null, awayScore: null, date: '2 مارس', time: '21:00', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'B', round: 'ج1 - ذهاب', details: { scorers: [] } },
        { id: 'd1_3', homeTeamId: 't3', awayTeamId: 't4', homeScore: null, awayScore: null, date: '2 مارس', time: '21:20', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'A', round: 'ج1 - ذهاب', details: { scorers: [] } },
        { id: 'd1_4', homeTeamId: 't7', awayTeamId: 't8', homeScore: null, awayScore: null, date: '2 مارس', time: '21:20', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'B', round: 'ج1 - ذهاب', details: { scorers: [] } },

        // --- الفترة الثانية (C & D - الجولة 1) ---
        // نعطي راحة لـ A و B وندخل C و D
        { id: 'd1_5', homeTeamId: 't9', awayTeamId: 't10', homeScore: null, awayScore: null, date: '2 مارس', time: '21:40', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'C', round: 'ج1 - ذهاب', details: { scorers: [] } },
        { id: 'd1_6', homeTeamId: 't13', awayTeamId: 't14', homeScore: null, awayScore: null, date: '2 مارس', time: '21:40', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'D', round: 'ج1 - ذهاب', details: { scorers: [] } },
        { id: 'd1_7', homeTeamId: 't11', awayTeamId: 't12', homeScore: null, awayScore: null, date: '2 مارس', time: '22:00', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'C', round: 'ج1 - ذهاب', details: { scorers: [] } },
        { id: 'd1_8', homeTeamId: 't15', awayTeamId: 't16', homeScore: null, awayScore: null, date: '2 مارس', time: '22:00', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'D', round: 'ج1 - ذهاب', details: { scorers: [] } },

        // --- الفترة الثالثة (A & B - الجولة 2) ---
        { id: 'd1_9', homeTeamId: 't1', awayTeamId: 't3', homeScore: null, awayScore: null, date: '2 مارس', time: '22:20', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'A', round: 'ج2 - ذهاب', details: { scorers: [] } },
        { id: 'd1_10', homeTeamId: 't5', awayTeamId: 't7', homeScore: null, awayScore: null, date: '2 مارس', time: '22:20', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'B', round: 'ج2 - ذهاب', details: { scorers: [] } },
        { id: 'd1_11', homeTeamId: 't2', awayTeamId: 't4', homeScore: null, awayScore: null, date: '2 مارس', time: '22:40', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'A', round: 'ج2 - ذهاب', details: { scorers: [] } },
        { id: 'd1_12', homeTeamId: 't6', awayTeamId: 't8', homeScore: null, awayScore: null, date: '2 مارس', time: '22:40', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'B', round: 'ج2 - ذهاب', details: { scorers: [] } },

        // --- الفترة الرابعة (C & D - الجولة 2) ---
        { id: 'd1_13', homeTeamId: 't9', awayTeamId: 't11', homeScore: null, awayScore: null, date: '2 مارس', time: '23:00', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'C', round: 'ج2 - ذهاب', details: { scorers: [] } },
        { id: 'd1_14', homeTeamId: 't13', awayTeamId: 't15', homeScore: null, awayScore: null, date: '2 مارس', time: '23:00', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'D', round: 'ج2 - ذهاب', details: { scorers: [] } },
        { id: 'd1_15', homeTeamId: 't10', awayTeamId: 't12', homeScore: null, awayScore: null, date: '2 مارس', time: '23:20', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'C', round: 'ج2 - ذهاب', details: { scorers: [] } },
        { id: 'd1_16', homeTeamId: 't14', awayTeamId: 't16', homeScore: null, awayScore: null, date: '2 مارس', time: '23:20', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'D', round: 'ج2 - ذهاب', details: { scorers: [] } },


        // ========================================================
        // اليوم الثاني: 3 مارس (يبدأ 22:00) - الجولة 3 و 4
        // ========================================================

        // --- الفترة الأولى (A & B - الجولة 3 - نهاية الذهاب) ---
        { id: 'd2_1', homeTeamId: 't1', awayTeamId: 't4', homeScore: null, awayScore: null, date: '3 مارس', time: '22:00', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'A', round: 'ج3 - ذهاب', details: { scorers: [] } },
        { id: 'd2_2', homeTeamId: 't5', awayTeamId: 't8', homeScore: null, awayScore: null, date: '3 مارس', time: '22:00', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'B', round: 'ج3 - ذهاب', details: { scorers: [] } },
        { id: 'd2_3', homeTeamId: 't2', awayTeamId: 't3', homeScore: null, awayScore: null, date: '3 مارس', time: '22:20', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'A', round: 'ج3 - ذهاب', details: { scorers: [] } },
        { id: 'd2_4', homeTeamId: 't6', awayTeamId: 't7', homeScore: null, awayScore: null, date: '3 مارس', time: '22:20', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'B', round: 'ج3 - ذهاب', details: { scorers: [] } },

        // --- الفترة الثانية (C & D - الجولة 3 - نهاية الذهاب) ---
        { id: 'd2_5', homeTeamId: 't9', awayTeamId: 't12', homeScore: null, awayScore: null, date: '3 مارس', time: '22:40', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'C', round: 'ج3 - ذهاب', details: { scorers: [] } },
        { id: 'd2_6', homeTeamId: 't13', awayTeamId: 't16', homeScore: null, awayScore: null, date: '3 مارس', time: '22:40', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'D', round: 'ج3 - ذهاب', details: { scorers: [] } },
        { id: 'd2_7', homeTeamId: 't10', awayTeamId: 't11', homeScore: null, awayScore: null, date: '3 مارس', time: '23:00', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'C', round: 'ج3 - ذهاب', details: { scorers: [] } },
        { id: 'd2_8', homeTeamId: 't14', awayTeamId: 't15', homeScore: null, awayScore: null, date: '3 مارس', time: '23:00', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'D', round: 'ج3 - ذهاب', details: { scorers: [] } },

        // --- الفترة الثالثة (A & B - الجولة 4 - بداية العودة) ---
        // تبديل الملاعب (Home/Away Swap in logic only, teams stay same ID)
        { id: 'd2_9', homeTeamId: 't2', awayTeamId: 't1', homeScore: null, awayScore: null, date: '3 مارس', time: '23:20', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'A', round: 'ج4 - عودة', details: { scorers: [] } },
        { id: 'd2_10', homeTeamId: 't6', awayTeamId: 't5', homeScore: null, awayScore: null, date: '3 مارس', time: '23:20', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'B', round: 'ج4 - عودة', details: { scorers: [] } },
        { id: 'd2_11', homeTeamId: 't4', awayTeamId: 't3', homeScore: null, awayScore: null, date: '3 مارس', time: '23:40', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'A', round: 'ج4 - عودة', details: { scorers: [] } },
        { id: 'd2_12', homeTeamId: 't8', awayTeamId: 't7', homeScore: null, awayScore: null, date: '3 مارس', time: '23:40', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'B', round: 'ج4 - عودة', details: { scorers: [] } },

        // --- الفترة الرابعة (C & D - الجولة 4 - بداية العودة) ---
        { id: 'd2_13', homeTeamId: 't10', awayTeamId: 't9', homeScore: null, awayScore: null, date: '3 مارس', time: '00:00', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'C', round: 'ج4 - عودة', details: { scorers: [] } },
        { id: 'd2_14', homeTeamId: 't14', awayTeamId: 't13', homeScore: null, awayScore: null, date: '3 مارس', time: '00:00', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'D', round: 'ج4 - عودة', details: { scorers: [] } },
        { id: 'd2_15', homeTeamId: 't12', awayTeamId: 't11', homeScore: null, awayScore: null, date: '3 مارس', time: '00:20', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'C', round: 'ج4 - عودة', details: { scorers: [] } },
        { id: 'd2_16', homeTeamId: 't16', awayTeamId: 't15', homeScore: null, awayScore: null, date: '3 مارس', time: '00:20', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'D', round: 'ج4 - عودة', details: { scorers: [] } },


        // ========================================================
        // اليوم الثالث: 4 مارس (يبدأ 22:00) - الجولة 5 و 6
        // ========================================================

        // --- الفترة الأولى (A & B - الجولة 5) ---
        { id: 'd3_1', homeTeamId: 't3', awayTeamId: 't1', homeScore: null, awayScore: null, date: '4 مارس', time: '22:00', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'A', round: 'ج5 - عودة', details: { scorers: [] } },
        { id: 'd3_2', homeTeamId: 't7', awayTeamId: 't5', homeScore: null, awayScore: null, date: '4 مارس', time: '22:00', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'B', round: 'ج5 - عودة', details: { scorers: [] } },
        { id: 'd3_3', homeTeamId: 't4', awayTeamId: 't2', homeScore: null, awayScore: null, date: '4 مارس', time: '22:20', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'A', round: 'ج5 - عودة', details: { scorers: [] } },
        { id: 'd3_4', homeTeamId: 't8', awayTeamId: 't6', homeScore: null, awayScore: null, date: '4 مارس', time: '22:20', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'B', round: 'ج5 - عودة', details: { scorers: [] } },

        // --- الفترة الثانية (C & D - الجولة 5) ---
        { id: 'd3_5', homeTeamId: 't11', awayTeamId: 't9', homeScore: null, awayScore: null, date: '4 مارس', time: '22:40', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'C', round: 'ج5 - عودة', details: { scorers: [] } },
        { id: 'd3_6', homeTeamId: 't15', awayTeamId: 't13', homeScore: null, awayScore: null, date: '4 مارس', time: '22:40', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'D', round: 'ج5 - عودة', details: { scorers: [] } },
        { id: 'd3_7', homeTeamId: 't12', awayTeamId: 't10', homeScore: null, awayScore: null, date: '4 مارس', time: '23:00', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'C', round: 'ج5 - عودة', details: { scorers: [] } },
        { id: 'd3_8', homeTeamId: 't16', awayTeamId: 't14', homeScore: null, awayScore: null, date: '4 مارس', time: '23:00', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'D', round: 'ج5 - عودة', details: { scorers: [] } },

        // --- الفترة الثالثة (A & B - الجولة 6 - الحاسمة) ---
        { id: 'd3_9', homeTeamId: 't4', awayTeamId: 't1', homeScore: null, awayScore: null, date: '4 مارس', time: '23:20', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'A', round: 'ج6 - عودة', details: { scorers: [] } },
        { id: 'd3_10', homeTeamId: 't8', awayTeamId: 't5', homeScore: null, awayScore: null, date: '4 مارس', time: '23:20', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'B', round: 'ج6 - عودة', details: { scorers: [] } },
        { id: 'd3_11', homeTeamId: 't3', awayTeamId: 't2', homeScore: null, awayScore: null, date: '4 مارس', time: '23:40', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'A', round: 'ج6 - عودة', details: { scorers: [] } },
        { id: 'd3_12', homeTeamId: 't7', awayTeamId: 't6', homeScore: null, awayScore: null, date: '4 مارس', time: '23:40', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'B', round: 'ج6 - عودة', details: { scorers: [] } },

        // --- الفترة الرابعة (C & D - الجولة 6 - الحاسمة) ---
        { id: 'd3_13', homeTeamId: 't12', awayTeamId: 't9', homeScore: null, awayScore: null, date: '4 مارس', time: '00:00', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'C', round: 'ج6 - عودة', details: { scorers: [] } },
        { id: 'd3_14', homeTeamId: 't16', awayTeamId: 't13', homeScore: null, awayScore: null, date: '4 مارس', time: '00:00', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'D', round: 'ج6 - عودة', details: { scorers: [] } },
        { id: 'd3_15', homeTeamId: 't11', awayTeamId: 't10', homeScore: null, awayScore: null, date: '4 مارس', time: '00:20', stadium: 'الملعب 1', status: 'SCHEDULED', group: 'C', round: 'ج6 - عودة', details: { scorers: [] } },
        { id: 'd3_16', homeTeamId: 't15', awayTeamId: 't14', homeScore: null, awayScore: null, date: '4 مارس', time: '00:20', stadium: 'الملعب 2', status: 'SCHEDULED', group: 'D', round: 'ج6 - عودة', details: { scorers: [] } },
      ];

      // ========================================================
      // الأدوار الإقصائية (9 و 10 مارس)
      // ========================================================
      const KNOCKOUT_MATCHES = [
        // يوم 9 مارس - ربع النهائي (مدة المباراة 20 دقيقة)
        { id: 'qf1', homeTeamId: null, awayTeamId: null, stage: 'ربع النهائي', title: 'أول A × ثاني B', date: '9 مارس', time: '22:00', stadium: 'الملعب 1', status: 'SCHEDULED', details: { scorers: [] } },
        { id: 'qf2', homeTeamId: null, awayTeamId: null, stage: 'ربع النهائي', title: 'أول B × ثاني A', date: '9 مارس', time: '22:00', stadium: 'الملعب 2', status: 'SCHEDULED', details: { scorers: [] } },
        { id: 'qf3', homeTeamId: null, awayTeamId: null, stage: 'ربع النهائي', title: 'أول C × ثاني D', date: '9 مارس', time: '22:30', stadium: 'الملعب 1', status: 'SCHEDULED', details: { scorers: [] } },
        { id: 'qf4', homeTeamId: null, awayTeamId: null, stage: 'ربع النهائي', title: 'أول D × ثاني C', date: '9 مارس', time: '22:30', stadium: 'الملعب 2', status: 'SCHEDULED', details: { scorers: [] } },
        
        // يوم 10 مارس - نصف النهائي والنهائي
        { id: 'sf1', homeTeamId: null, awayTeamId: null, stage: 'نصف النهائي', title: 'الفائز (QF1) × الفائز (QF2)', date: '10 مارس', time: '22:00', stadium: 'الملعب 1', status: 'SCHEDULED', details: { scorers: [] } },
        { id: 'sf2', homeTeamId: null, awayTeamId: null, stage: 'نصف النهائي', title: 'الفائز (QF3) × الفائز (QF4)', date: '10 مارس', time: '22:00', stadium: 'الملعب 2', status: 'SCHEDULED', details: { scorers: [] } },
        { id: 'f1', homeTeamId: null, awayTeamId: null, stage: 'النهائي', title: 'كأس البطولة', date: '10 مارس', time: '23:00', stadium: 'الملعب الرئيسي', status: 'SCHEDULED', details: { scorers: [] } },
      ];

      // --- نفس وظائف التشغيل السابقة ---
      const PLAYERS = [];
      let state = { activeTab: 'matches', matchesFilter: 'ALL', searchQuery: '', expandedMatches: new Set(), expandedGroups: new Set() };
      const getTeam = (id) => TEAMS.find(t => t.id === id) || { name: 'لم يحدد', logoColor: 'bg-gray-300' };

      function calculateStats() {
        TEAMS.forEach(team => { team.played = 0; team.won = 0; team.drawn = 0; team.lost = 0; team.gf = 0; team.ga = 0; team.pts = 0; });
        MATCHES.forEach(match => {
          if (match.status !== 'FINISHED' || match.homeScore === null || match.awayScore === null) return;
          const h = TEAMS.find(t => t.id === match.homeTeamId);
          const a = TEAMS.find(t => t.id === match.awayTeamId);
          if (!h || !a) return;
          const hs = parseInt(match.homeScore), as = parseInt(match.awayScore);
          h.played++; a.played++; h.gf += hs; h.ga += as; a.gf += as; a.ga += hs;
          if (hs > as) { h.won++; h.pts += 3; a.lost++; }
          else if (hs < as) { a.won++; a.pts += 3; h.lost++; }
          else { h.drawn++; h.pts++; a.drawn++; a.pts++; }
        });
      }

      function init() { calculateStats(); renderNav(); renderContent(); updateIcons(); }
      function updateIcons() { setTimeout(() => { if (window.lucide) window.lucide.createIcons(); }, 50); }
      
      function renderNav() {
        const tabs = [ { id: 'standings', label: 'الترتيب', icon: 'shield' }, { id: 'matches', label: 'المباريات', icon: 'calendar-days' }, { id: 'scorers', label: 'الهدافين', icon: 'users' } ];
        document.getElementById('nav-tabs').innerHTML = tabs.map(t => `<button onclick="setTab('${t.id}')" class="flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-bold transition-all ${state.activeTab === t.id ? 'bg-white text-navy-900 shadow-sm' : 'text-gray-400 hover:text-white'}"><i data-lucide="${t.icon}" class="w-4 h-4 ${state.activeTab === t.id ? 'text-gold-400' : ''}"></i><span>${t.label}</span></button>`).join('');
      }

      function renderContent() {
        const c = document.getElementById('app-content');
        c.className = "max-w-md mx-auto px-4 py-6 space-y-4 fade-in";
        if (state.activeTab === 'matches') renderMatches(c);
        else if (state.activeTab === 'standings') renderStandings(c);
        else if (state.activeTab === 'scorers') renderScorers(c);
      }

      window.setTab = (t) => { state.activeTab = t; renderNav(); renderContent(); updateIcons(); };
      window.setMatchFilter = (f) => { state.matchesFilter = f; renderContent(); updateIcons(); };
      window.setSearch = (q) => { state.searchQuery = q; renderContent(); updateIcons(); };
      window.toggleMatchDetails = (id) => { state.expandedMatches.has(id) ? state.expandedMatches.delete(id) : state.expandedMatches.add(id); renderContent(); updateIcons(); };
      window.toggleGroupMatches = (g) => { state.expandedGroups.has(g) ? state.expandedGroups.delete(g) : state.expandedGroups.add(g); renderContent(); updateIcons(); };

      function renderMatches(c) {
        let list = MATCHES.filter(m => state.matchesFilter === 'ALL' || m.group === state.matchesFilter);
        if (state.searchQuery) list = list.filter(m => getTeam(m.homeTeamId).name.includes(state.searchQuery) || getTeam(m.awayTeamId).name.includes(state.searchQuery));
        const filters = ['ALL', 'A', 'B', 'C', 'D'];
        const filterHtml = `<div class="flex gap-2 overflow-x-auto pb-2 scrollbar-hide mb-4">${filters.map(f => `<button onclick="setMatchFilter('${f}')" class="px-4 py-2 roun